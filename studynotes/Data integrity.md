Based on the sources and our conversation, **data integrity** in the context of database management systems (DBMSs) is fundamentally about ==**ensuring the accuracy and consistency of the data** stored in the database==. It means that the data adheres to predefined rules and constraints that reflect the real-world meaning and relationships of the data.

Here are the key aspects of data integrity derived from the sources:

- **Enforcement through Constraints:** Data integrity is primarily enforced through **integrity constraints** that are specified as part of the database schema. ==These constraints are rules that the data must satisfy at all times.== The DBMS is responsible for providing capabilities to **define and enforce these constraints**. **The information about these constraints is stored in the DBMS catalog as meta-data.**
- **Ensuring Valid States:** Specifying a correct schema with constraints helps ensure that every state of the database is a **valid state**, meaning it satisfies the defined structure and constraints. A state that doesn't obey these constraints is considered **not valid**.
- **Types of Integrity Constraints:** The sources discuss various types of constraints used to maintain data integrity:
    - **Domain Constraints:** Specify that the value of an attribute must be an atomic value from its defined domain or data type. **For example, an age must be an integer within a certain range, or a name must be a character string**. Values not of the correct type or format would be rejected.
    - **Key Constraints:** Ensure that attributes designated as keys (like primary keys or candidate keys) have unique values within a relation. This helps uniquely identify tuples (rows). The **entity integrity constraint** specifically states that no primary key value can be NULL, as NULL values would prevent the identification of specific tuples. These constraints apply to individual relations.
    - **Referential Integrity Constraints:** Maintain consistency among tuples across **two related relations**. They are typically enforced using **foreign keys**. ==**A value of a foreign key in one relation (the referencing relation) must either match a primary key value in a tuple of the other relation (the referenced relation) or be NULL**==. This ensures that a reference from one tuple to another is always valid. For example, an employee's department number (foreign key) must match an existing department number (primary key) in the department relation.
    - **Constraints on NULLs:** Specify whether attributes can or cannot have NULL values, such as the NOT NULL constraint.
    - **Semantic Integrity Constraints / Business Rules:** More complex constraints that represent specific rules derived from the meaning of the data that aren't typically included in the standard data definition languages. These can include rules like an employee's salary not exceeding their supervisor's salary. These may be enforced using mechanisms like **triggers and assertions** in SQL, or within application programs.
- **Avoiding Anomalies and Spurious Data:** Good database design, particularly using formal concepts like functional dependencies and normalization, aims to minimize redundancy and avoid design pitfalls like insertion, deletion, and modification anomalies. Anomalies can make it difficult to maintain data consistency. Good design also aims to prevent the generation of **spurious tuples** (invalid data) when relations are joined, ideally by joining relations using appropriate primary key/foreign key pairs.
- **Maintaining Consistency During Updates:** Data integrity must be maintained when the database is modified. **Insert, Delete, and Update operations** can potentially violate integrity constraints. The DBMS handles these violations according to rules defined by the database designer, such as rejecting the operation (RESTRICT), setting foreign keys to NULL, or cascading changes. Transactions, as atomic units of work, are designed to take the database from one consistent state to another upon completion.
- **Consistency in Distributed Systems:** While the ACID property "consistency" refers to not violating schema constraints, in distributed databases with replicated data, the term "consistency" in concepts like the CAP theorem refers to ensuring that all copies of a data item have the same value. While distinct from the ACID definition, this too can be seen as a form of integrity related to replicated data.

In summary, data integrity is central to the reliability and trustworthiness of a database, achieved through the definition and enforcement of rules and constraints that govern the structure and values of the data.

#week1
#latrobe 